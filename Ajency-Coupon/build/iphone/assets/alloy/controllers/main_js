function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="main",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var e=this,t={};e.__views.main=Ti.UI.createView({backgroundColor:"#000000",opacity:1,width:Ti.UI.FILL,height:Ti.UI.FILL,layout:"vertical",navBarHidden:!0,id:"main"}),e.__views.main&&e.addTopLevelView(e.__views.main),e.__views.__alloyId63=Ti.UI.createView({layout:"vertical",id:"__alloyId63"}),e.__views.main.add(e.__views.__alloyId63),e.__views.headerView=Ti.UI.createView({width:Ti.UI.FILL,top:0,backgroundColor:"#F5CE1E",id:"headerView",height:"11.5%"}),e.__views.__alloyId63.add(e.__views.headerView),e.__views.headerMenu=Ti.UI.createImageView({left:"5%",top:"30%",bottom:"30%",image:"/images/menu.png",width:"8%",height:"60%",id:"headerMenu"}),e.__views.headerView.add(e.__views.headerMenu),e.__views.headerLogo=Ti.UI.createImageView({image:"/images/header_logo.png",width:"50%",height:"40%",id:"headerLogo",top:"40%"}),e.__views.headerView.add(e.__views.headerLogo),e.__views.staticView=Ti.UI.createView({width:Ti.UI.FILL,top:0,backgroundColor:"#F0C60A",id:"staticView",height:"23%"}),e.__views.__alloyId63.add(e.__views.staticView),e.__views.midContainer=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:Ti.UI.FILL,top:0,backgroundColor:"#FFFFFF",id:"midContainer"}),e.__views.__alloyId63.add(e.__views.midContainer),t.destroy=function(){},_.extend(e,e.__views),require("platformSupport"),require("animation"),require("alloy/animation");var i=require("alloy");console.log("main called"),Titanium.UI.iPhone.setAppBadge(null),e.headerMenu.addEventListener("click",function(){"/images/menu_back.png"===e.headerMenu.image?(null!=i.Globals.successOnRefresh&&Ti.App.removeEventListener("successOnFetch",i.Globals.successOnRefresh),Ti.App.fireEvent("screen:back")):Ti.App.fireEvent("menu:toggleLeftMenu")});var n=function(){e.staticView.removeAllChildren(),e.midContainer.removeAllChildren()},a=function(e){var t={};Ti.include("/data/categoriesData.js");for(var i=localStorage.getAllCategories(),n=0;len=_.size(i),len>n;n++)console.log(i[n]),i[n].categoryId===e&&(t.imagePath=i[n].photo.urls.small_240,t.labelText=i[n].categoryFancyName);return t},o=function(t){var i=Ti.UI.createView({bottom:"5%",left:"10%",width:Ti.UI.SIZE,height:Ti.UI.SIZE}),n=Ti.UI.createView({bottom:0,height:"2%",width:Ti.UI.FILL,backgroundColor:"#E7BE07"}),o=Ti.UI.createLabel({left:0,color:"#3B0B0B",width:"auto",height:40,font:{fontFamily:"OpenSans-Bold",fontSize:35}}),r=Ti.UI.createLabel({left:0,color:"#3B0B0B",width:"auto",height:"auto",font:{fontFamily:"OpenSans-Regular",fontSize:35}}),s=Ti.UI.createImageView({left:0,bottom:5,height:50,width:45});switch(t){case"Home":i.setLayout("vertical"),o.setText("I want"),r.setText("something..."),i.add(o),i.add(r);break;case"Transaction History":i=null,i=Alloy.createController("transactionHistoryStaticView").getView();break;case"Manage":i.setLayout("horizontal"),o.height="auto",o.verticalAlign=Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,o.font={fontFamily:"OpenSans-Bold",fontSize:40},o.setText("Manage"),i.add(o);break;case"Pending":i.setLayout("horizontal"),o.height="auto",o.verticalAlign=Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,o.font={fontFamily:"OpenSans-Bold",fontSize:40},o.setText("Pending"),i.add(o);break;case"Manage Users":i.setLayout("horizontal"),o.height="auto",o.verticalAlign=Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,o.font={fontFamily:"OpenSans-Bold",fontSize:40},o.setText("Users"),i.add(o);break;case"UserList":i=null,i=Alloy.createController("adminHistoryStaticView").getView();break;case"Manage Products":i.setLayout("horizontal"),o.height="auto",o.verticalAlign=Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,o.font={fontFamily:"OpenSans-Bold",fontSize:40},o.setText("Products"),i.add(o);break;case"Product Transaction":i=null,i=Alloy.createController("productHistoryStaticView").getView();break;case"Stock":case"Add Stock":case"Settings":i.setLayout("horizontal"),o.height="auto",o.verticalAlign=Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,o.font={fontFamily:"OpenSans-Bold",fontSize:40},o.setText(t),i.add(o);break;default:var l=a(t);i.setLayout("horizontal"),o.height="auto",o.verticalAlign=Titanium.UI.TEXT_VERTICAL_ALIGNMENT_TOP,o.font={fontFamily:"OpenSans-Bold",fontSize:40},o.setText(l.labelText),s.setImage(l.imagePath),i.add(s),i.add(o)}e.staticView.add(i),e.staticView.add(n)},r=function(t){var i={categoryId:t};e.midContainer.add(Alloy.createController("allProducts",i).getView())},s=function(){e.midContainer.add(Alloy.createController("usersList").getView())},l=function(t){e.midContainer.add(Alloy.createController("adminHistory",t).getView())},d=function(){e.midContainer.add(Alloy.createController("selectProduct").getView())},c=function(t){e.midContainer.add(Alloy.createController("adminHistory",t).getView())},u=function(){e.midContainer.add(Alloy.createController("stocks").getView())},h=function(t){setTimeout(function(){switch(t){case"Home":o(t),e.midContainer.add(Alloy.createController("home").getView());break;case"Transaction History":o(t),e.midContainer.add(Alloy.createController("transactionHistory").getView());break;case"Manage":o(t),e.midContainer.add(Alloy.createController("adminMainView","admin").getView());break;case"Pending":o(t),e.midContainer.add(Alloy.createController("pending").getView());break;case"Stock":o(t),e.midContainer.add(Alloy.createController("adminMainView","stock").getView());break;case"Settings":o(t),e.midContainer.add(Alloy.createController("settings").getView())}},200)};i.Globals.midContainerReference=function(t){n();var i=t.id;switch(i){case"Home":console.log("Home"),e.headerMenu.image="/images/menu.png",h("Home");break;case"Transaction History":console.log("Transaction history"),e.headerMenu.image="/images/menu_back.png",h("Transaction History");break;case"Manage":e.headerMenu.image="/images/menu_back.png",h("Manage");break;case"Pending":e.headerMenu.image="/images/menu_back.png",h("Pending");break;case"Manage Users":console.log("Manage users"),e.headerMenu.image="/images/menu_back.png",o(i),s();break;case"UserList":e.headerMenu.image="/images/menu_back.png",o(i);var a={userid:t.userid,name:t.name};l(a);break;case"Manage Products":e.headerMenu.image="/images/menu_back.png",o(i),d();break;case"Product Transaction":e.headerMenu.image="/images/menu_back.png",o(i);var a={productid:t.productid,name:t.name};c(a);break;case"Stock":e.headerMenu.image="/images/menu_back.png",h("Stock");break;case"Add Stock":e.headerMenu.image="/images/menu_back.png",o(i),u();break;case"Settings":e.headerMenu.image="/images/menu_back.png",h("Settings");break;default:console.log("Product id: "+i),e.headerMenu.image="/images/menu_back.png",o(i),r(i)}},Ti.App.addEventListener("app:addViewToMidContainer",i.Globals.midContainerReference),h("Home"),_.extend(e,t)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;