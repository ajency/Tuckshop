function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){a.drawerLeftView.removeAllChildren();var e=Alloy.createController("leftMenu").getView();a.drawerLeftView.add(e)}function t(){a.destroy(),a.off()}if(require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="menu",arguments[0]){var i=__processArg(arguments[0],"__parentSymbol");__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate")}var a=this,n={};a.__views.__alloyId12=require("xp.ui").createWindow({backgroundColor:"#FFFFFF",navBarHidden:!0,role:"leftWindow",id:"__alloyId12"}),a.__views.drawerLeftView=Ti.UI.createView({width:Ti.UI.FILL,height:Ti.UI.FILL,id:"drawerLeftView"}),a.__views.__alloyId12.add(a.__views.drawerLeftView),a.__views.__alloyId13=Ti.UI.createWindow({backgroundColor:"#FFFFFF",navBarHidden:!0,role:"centerWindow",id:"__alloyId13"}),a.__views.drawerCenterView=Ti.UI.createView({width:Ti.UI.FILL,height:Ti.UI.FILL,id:"drawerCenterView"}),a.__views.__alloyId13.add(a.__views.drawerCenterView),a.__views.drawer=Alloy.createWidget("nl.fokkezb.drawer","widget",{exitOnClose:!0,navBarHidden:!0,fading:.2,parallaxAmount:.2,leftDrawerWidth:"280dp",orientationModes:[Ti.UI.PORTRAIT,Ti.UI.UPSIDE_PORTRAIT],shadowWidth:"2dp",openDrawerGestureMode:"OPEN_MODE_ALL",closeDrawerGestureMode:"CLOSE_MODE_ALL",animationMode:"ANIMATION_NONE",id:"drawer",children:[a.__views.__alloyId12,a.__views.__alloyId13],__parentSymbol:i}),a.__views.drawer&&a.addTopLevelView(a.__views.drawer),n.destroy=function(){},_.extend(a,a.__views);var o=require("alloy");console.log("menu called");var r=Alloy.createController("main").getView();a.drawerCenterView.add(r);var s=Alloy.createController("leftMenu").getView();a.drawerLeftView.add(s),a.drawer.open(),o.Globals.toggleLeft=function(){a.drawer.instance.toggleLeftWindow()},Ti.App.addEventListener("menu:toggleLeftMenu",o.Globals.toggleLeft),o.Globals.navigatePrevious=function(t){if(t.cancelBubble=!0,a.drawer.instance.isLeftWindowOpen())a.drawer.instance.toggleLeftWindow();else{var i=o.Globals.navigatedView;if(console.log("current view"),console.log(i),"Home"===i);else if("Manage Users"===i||"Manage Products"===i){o.Globals.navigatedView="Manage";var n={id:"Manage"};Ti.App.fireEvent("app:addViewToMidContainer",n)}else if("UserList"===i){o.Globals.navigatedView="Manage Users";var n={id:"Manage Users"};Ti.App.fireEvent("app:addViewToMidContainer",n)}else if("Product Transaction"===i){o.Globals.navigatedView="Manage Products";var n={id:"Manage Products"};Ti.App.fireEvent("app:addViewToMidContainer",n)}else{o.Globals.navigatedView="Home";var n={id:"Home"};Ti.App.fireEvent("app:addViewToMidContainer",n),e()}}},Ti.App.addEventListener("screen:back",o.Globals.navigatePrevious),Ti.App.addEventListener("destroy:menu:instance",t),_.extend(a,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;