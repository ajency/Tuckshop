function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){i.itemsTable.data=empty,i.itemsTable.data=r}function t(t){function i(i){i.cancelBubble=!0,r.splice(t.rowData.id,1);var a=n.getPendingItems();a.splice(t.rowData.id,1),Ti.App.Properties.removeProperty("pendingItems"),n.savePendingItems(a),alert(a),e()}function a(t){t.cancelBubble=!0,e(),l.removeEventListener("click",i),u.removeEventListener("click",a)}var o=Ti.UI.createTableViewRow({id:"swipeRow",height:70,focusable:!0,backgroundSelectedColor:"transparent"}),s=Ti.UI.createView({layout:"horizontal",height:Ti.UI.FILL,width:Ti.UI.FILL,backgroundColor:"#F0C60A"}),l=Ti.UI.createView({left:"10%",layout:"horizontal",height:Ti.UI.SIZE,width:"55%"}),d=Ti.UI.createLabel({left:0,text:"DONE",color:"#444444",font:{fontFamily:"OpenSans-Regular",fontSize:20,fontWeight:"bold"}}),c=Ti.UI.createImageView({left:"2%",height:40,width:40,image:"/images/icon_buy.png"});l.add(d),l.add(c);var u=Ti.UI.createView({layout:"horizontal",height:Ti.UI.SIZE,width:"35%"}),_=Ti.UI.createView({left:0,top:"12.5%",bottom:"12.5%",height:"75%",width:"1%",backgroundColor:"#444444"}),h=Ti.UI.createImageView({left:"10%",height:30,width:30,image:"/images/icon_cancel.png"}),g=Ti.UI.createLabel({left:"2%",text:"Cancel",color:"#444444",font:{fontFamily:"OpenSans-Regular",fontSize:15}});return u.add(_),u.add(h),u.add(g),l.addEventListener("click",i),u.addEventListener("click",a),s.add(l),s.add(u),o.add(s),o}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="pending",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var i=this,a={};i.__views.pending=Ti.UI.createView({layout:"vertical",id:"pending"}),i.__views.pending&&i.addTopLevelView(i.__views.pending),i.__views.animateObject=Ti.UI.createImageView({id:"animateObject",height:"0",width:"0",top:"0"}),i.__views.pending.add(i.__views.animateObject),i.__views.itemErrorLabel=Ti.UI.createLabel({font:{fontFamily:"OpenSans-Regular",fontSize:15},text:"Tap to Retry",id:"itemErrorLabel",height:"0",width:"0",top:"0"}),i.__views.pending.add(i.__views.itemErrorLabel),i.__views.itemsTable=Ti.UI.createTableView({width:Ti.UI.FILL,height:Ti.UI.FILL,id:"itemsTable",separatorColor:"#F0C60A"}),i.__views.pending.add(i.__views.itemsTable),a.destroy=function(){},_.extend(i,i.__views),require("alloy"),arguments[0]||{};var n=require("/localStorage"),o=require("/networkCheck"),r=empty=[];i.itemErrorLabel.addEventListener("click",function(){0==o.getNetworkStatus()?alert("No Internet Connection"):s(n.getPendingItems())});var s=function(e){console.log("table data"),console.log(e);for(var t=view=imageView=productNameLabel=dateLabel=null,a=0;len=_.size(e),len>a;a++)console.log("Table data"),console.log(e[a].name),t=Ti.UI.createTableViewRow({id:a,height:70,backgroundSelectedColor:"transparent",backgroundColor:"white"}),view=Ti.UI.createView({layout:"vertical",width:Ti.UI.FILL,height:70,backgroundColor:"transparent"}),productNameLabel=Ti.UI.createLabel({touchEnabled:!1,left:"20%",textAlign:"left",text:e[a].name,color:"#3B0B0B",font:{fontFamily:"OpenSans-Regular",fontSize:20}}),dateLabel=Ti.UI.createLabel({touchEnabled:!1,top:"10%",left:"20%",textAlign:"center",text:e[a].date,color:"#A4A4A4",font:{fontFamily:"OpenSans-Regular",fontSize:13}}),view.add(productNameLabel),view.add(dateLabel),t.add(view),r.push(t),t=productNameLabel=null;i.itemsTable.data=r};n.getPendingItems()?s(n.getPendingItems()):alert("No Pending Items"),i.itemsTable.addEventListener("click",function(a){e(),i.itemsTable.updateRow(a.index,t(a))}),_.extend(i,a)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;