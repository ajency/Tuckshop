function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e){switch(console.log("populate called"),console.log(e),e){case 0:t.mailSwitch.value=!1,t.dailyWeeklySwitch.touchEnabled=!1,"daily"===n?t.dailyWeeklySwitch.value=!0:"weekly"===n&&(t.dailyWeeklySwitch.value=!1),t.dailyWeeklyView.touchEnabled=!1,t.dailyWeeklyView.opacity=.5;break;case 1:t.mailSwitch.value=!0,t.dailyWeeklySwitch.touchEnabled=!0,"daily"===n?t.dailyWeeklySwitch.value=!0:"weekly"===n&&(t.dailyWeeklySwitch.value=!1),t.dailyWeeklyView.touchEnabled=!0,t.dailyWeeklyView.opacity=1}}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="settings",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var t=this,i={};t.__views.settings=Ti.UI.createView({layout:"vertical",id:"settings"}),t.__views.settings&&t.addTopLevelView(t.__views.settings),t.__views.__alloyId64=Ti.UI.createView({width:Ti.UI.FILL,height:"70",id:"__alloyId64"}),t.__views.settings.add(t.__views.__alloyId64),t.__views.__alloyId65=Ti.UI.createLabel({color:"#3B0B0B",font:{fontFamily:"OpenSans-Regular",fontSize:18},left:"10%",text:"Mails",id:"__alloyId65"}),t.__views.__alloyId64.add(t.__views.__alloyId65),t.__views.mailSwitch=Ti.UI.createSwitch({right:"15%",value:!1,id:"mailSwitch"}),t.__views.__alloyId64.add(t.__views.mailSwitch),t.__views.__alloyId66=Ti.UI.createView({bottom:"0%",width:Ti.UI.FILL,height:"0.8",backgroundColor:"#F0C60A",id:"__alloyId66"}),t.__views.__alloyId64.add(t.__views.__alloyId66),t.__views.dailyWeeklyView=Ti.UI.createView({width:Ti.UI.FILL,id:"dailyWeeklyView",height:"70",visible:"false"}),t.__views.settings.add(t.__views.dailyWeeklyView),t.__views.__alloyId67=Ti.UI.createLabel({color:"#3B0B0B",font:{fontFamily:"OpenSans-Regular",fontSize:18},left:"10%",text:"Weekly",id:"__alloyId67"}),t.__views.dailyWeeklyView.add(t.__views.__alloyId67),t.__views.dailyWeeklySwitch=Ti.UI.createSwitch({value:!0,id:"dailyWeeklySwitch",left:"45%",titleOn:"Daily",titleOff:"Weekly"}),t.__views.dailyWeeklyView.add(t.__views.dailyWeeklySwitch),t.__views.__alloyId68=Ti.UI.createLabel({color:"#3B0B0B",font:{fontFamily:"OpenSans-Regular",fontSize:18},right:"15%",text:"Daily",id:"__alloyId68"}),t.__views.dailyWeeklyView.add(t.__views.__alloyId68),t.__views.__alloyId69=Ti.UI.createView({bottom:"0%",width:Ti.UI.FILL,height:"0.8",backgroundColor:"#F0C60A",id:"__alloyId69"}),t.__views.dailyWeeklyView.add(t.__views.__alloyId69),i.destroy=function(){},_.extend(t,t.__views),arguments[0]||{};var a=dbOperations.getMailStatus(localStorage.getLastLoggedInUserId()),o=a.mails,n=a.daily_weekly;console.log("Switch values"),console.log(o),console.log(n),e(a.mails),t.mailSwitch.addEventListener("change",function(){o=t.mailSwitch.value?1:0,dbOperations.updateMailStatus(localStorage.getLastLoggedInUserId(),o,n),e(o)}),t.dailyWeeklySwitch.addEventListener("change",function(){n=t.dailyWeeklySwitch.value?"daily":"weekly",dbOperations.updateMailStatus(localStorage.getLastLoggedInUserId(),o,n)}),_.extend(t,i)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;