function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){null!=a.animateObject&&(a.animateObject.image="/images/loaderlogin-"+d+".png"),d++,5===d&&(d=1)}function t(){c(),loaderAnimate=setInterval(e,200),g(),Cloud.Users.query({limit:1e3,where:{organizationId:n.getOrganizationId()}},function(e){if(e.success){for(u(),clearInterval(loaderAnimate),i=0;len=e.users.length,len>i;i++)r.Globals.userResponse.push(e.users[i]);w(e.users)}else u(),clearInterval(loaderAnimate),h(),alert("Error:\n"+(e.error&&e.message||JSON.stringify(e)))})}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="usersList",arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var a=this,o={};a.__views.usersList=Ti.UI.createView({layout:"vertical",id:"usersList"}),a.__views.usersList&&a.addTopLevelView(a.__views.usersList),a.__views.animateObject=Ti.UI.createImageView({id:"animateObject",height:"0",width:"0",top:"0"}),a.__views.usersList.add(a.__views.animateObject),a.__views.userErrorLabel=Ti.UI.createLabel({font:{fontFamily:"OpenSans-Regular",fontSize:15},text:"Tap to Retry",id:"userErrorLabel",height:"0",width:"0",top:"0"}),a.__views.usersList.add(a.__views.userErrorLabel),a.__views.usersTable=Ti.UI.createTableView({width:Ti.UI.FILL,height:Ti.UI.FILL,id:"usersTable",separatorColor:"#F0C60A"}),a.__views.usersList.add(a.__views.usersTable),o.destroy=function(){},_.extend(a,a.__views);var r=require("alloy");arguments[0]||{};var n=require("/localStorage"),l=require("/networkCheck"),s=[],d=1,c=function(){a.animateObject.height=96,a.animateObject.width=96},u=function(){a.animateObject.height=0,a.animateObject.width=0},h=function(){a.userErrorLabel.height="15%",a.userErrorLabel.width="30%"},g=function(){a.userErrorLabel.height=0,a.userErrorLabel.width=0};a.userErrorLabel.addEventListener("click",function(){0==l.getNetworkStatus()?alert("No Internet Connection"):t()});var w=function(e){console.log("table data"),console.log(e);for(var t=view=imageView=productNameLabel=null,i=0;len=_.size(e),len>i;i++)t=Ti.UI.createTableViewRow({id:"UserList",userid:e[i].id,username:e[i].username,height:70,backgroundSelectedColor:"transparent",backgroundColor:"white"}),productNameLabel=Ti.UI.createLabel({touchEnabled:!1,left:"20%",textAlign:"center",text:e[i].username,color:"#3B0B0B",font:{fontFamily:"OpenSans-Regular",fontSize:20}}),view=Ti.UI.createView({layout:"horizontal",right:0,height:Ti.UI.SIZE,width:"20%",align:"center"}),t.add(productNameLabel),t.add(view),s.push(t),t=view=imageView=productNameLabel=null;a.usersTable.data=s};0===r.Globals.userResponse.length?t():w(r.Globals.userResponse),a.usersTable.addEventListener("click",function(e){var t={id:e.rowData.id,userid:e.rowData.userid,name:e.rowData.username};r.Globals.navigatedView=t.id,Ti.App.fireEvent("app:addViewToMidContainer",t),t=null}),_.extend(a,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;